{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actualizar Usuario - Alfa Hospital</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="logo">
                <img src="{% static 'images/LOGO-COLOR.svg' %}" alt="Alfa Hospital Logo" class="logo-img">
            </div>
            <div class="nav-links">
                <a href="{% url 'control_users' %}" class="login-btn">Volver a Lista</a>
            </div>
        </nav>
    </header>

    <!-- Contenido principal -->
    <main class="login-main">
        <section class="login-container">
            <section class="login-card">
                <section class="login-header">
                    <h1>Actualizar Usuario</h1>
                    <p>Modifica los datos de {{ usuario.nombres }} {{ usuario.apellidos }}</p>
                </section>

                <!-- Mostrar mensajes si existen -->
                {% if messages %}
                    {% for message in messages %}
                        <section class="alert alert-{{ message.tags }}">
                            {{ message }}
                        </section>
                    {% endfor %}
                {% endif %}

                <!-- Formulario de actualización -->
                <form class="login-form" method="post">
                    {% csrf_token %}
                    
                    <!-- Nombres -->
                    <section class="form-group">
                        <label for="nombres">Nombres *</label>
                        <input type="text" id="nombres" name="nombres" value="{{ usuario.nombres|default:'' }}" required>
                    </section>

                    <!-- Apellidos -->
                    <section class="form-group">
                        <label for="apellidos">Apellidos *</label>
                        <input type="text" id="apellidos" name="apellidos" value="{{ usuario.apellidos|default:'' }}" required>
                    </section>

                    <!-- Cédula -->
                    <section class="form-group">
                        <label for="cedula">Cédula *</label>
                        <input type="text" id="cedula" name="cedula" value="{{ usuario.cedula|default:'' }}" required>
                    </section>

                    <!-- Teléfono -->
                    <section class="form-group">
                        <label for="telefono">Teléfono *</label>
                        <input type="text" id="telefono" name="telefono" value="{{ usuario.telefono|default:'' }}" required>
                    </section>

                    <!-- Email -->
                    <section class="form-group">
                        <label for="email">Correo Electrónico *</label>
                        <input type="email" id="email" name="email" value="{{ usuario.email|default:'' }}" required>
                    </section>

                    <!-- Fecha de nacimiento -->
                    <section class="form-group">
                        <label for="fecha_nacimiento">Fecha de Nacimiento *</label>
                        <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" value="{{ usuario.fecha_nacimiento|date:'Y-m-d' }}" required>
                    </section>

                    <!-- Género -->
                    <section class="form-group">
                        <label for="genero">Género *</label>
                        <select id="genero" name="genero" required>
                            <option value="M" {% if usuario.genero == 'M' %}selected{% endif %}>Masculino</option>
                            <option value="F" {% if usuario.genero == 'F' %}selected{% endif %}>Femenino</option>
                            <option value="O" {% if usuario.genero == 'O' %}selected{% endif %}>Otro</option>
                        </select>
                    </section>

                    <!-- Contraseña (opcional para actualización) -->
                    <section class="form-group">
                        <label for="password">Nueva Contraseña (dejar vacío para mantener la actual)</label>
                        <input type="password" id="password" name="password" placeholder="Solo si quieres cambiarla">
                    </section>

                    <!-- Botones -->
                    <section class="btn-yes-no">
                        <button type="submit" class="login-btn">✅ Actualizar Usuario</button>
                        <a href="{% url 'control_users' %}" class="login-btn">❌ Cancelar</a>
                    </section>
                </form>
            </section>
        </section>
    </main>
</body>
</html>